'use strict';

var express = require('express');
var path = require('path');
var bodyParser = require('body-parser');
var mongoose = require('mongoose');
var handlers = require('./handlers.js');

mongoose.connect('mongodb://localhost/notelist');

var app = express();

app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: true }));

app.use('/', express.static(path.join(__dirname, '../client')));
app.use('/lib', express.static(path.join(__dirname, '../../node_modules')));

// app.post('/movies/search', function(req, res, body) {
//   console.log(req.body);
// })

app.post('/movies/search', handlers.addMovie);

app.listen(8000);
console.log('Listening on 127.0.0.1:8000');
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zZXJ2ZXIvc2VydmVyLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicGF0aCIsImJvZHlQYXJzZXIiLCJtb25nb29zZSIsImhhbmRsZXJzIiwiY29ubmVjdCIsImFwcCIsInVzZSIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJzdGF0aWMiLCJqb2luIiwiX19kaXJuYW1lIiwicG9zdCIsImFkZE1vdmllIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxVQUFVQyxRQUFRLFNBQVIsQ0FBZDtBQUNBLElBQUlDLE9BQU9ELFFBQVEsTUFBUixDQUFYO0FBQ0EsSUFBSUUsYUFBYUYsUUFBUSxhQUFSLENBQWpCO0FBQ0EsSUFBSUcsV0FBV0gsUUFBUSxVQUFSLENBQWY7QUFDQSxJQUFJSSxXQUFXSixRQUFRLGVBQVIsQ0FBZjs7QUFFQUcsU0FBU0UsT0FBVCxDQUFpQiw4QkFBakI7O0FBRUEsSUFBSUMsTUFBTVAsU0FBVjs7QUFFQU8sSUFBSUMsR0FBSixDQUFRTCxXQUFXTSxJQUFYLEVBQVI7QUFDQUYsSUFBSUMsR0FBSixDQUFRTCxXQUFXTyxVQUFYLENBQXNCLEVBQUNDLFVBQVUsSUFBWCxFQUF0QixDQUFSOztBQUVBSixJQUFJQyxHQUFKLENBQVEsR0FBUixFQUFhUixRQUFRWSxNQUFSLENBQWVWLEtBQUtXLElBQUwsQ0FBVUMsU0FBVixFQUFxQixXQUFyQixDQUFmLENBQWI7QUFDQVAsSUFBSUMsR0FBSixDQUFRLE1BQVIsRUFBZ0JSLFFBQVFZLE1BQVIsQ0FBZVYsS0FBS1csSUFBTCxDQUFVQyxTQUFWLEVBQXFCLG9CQUFyQixDQUFmLENBQWhCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQVAsSUFBSVEsSUFBSixDQUFTLGdCQUFULEVBQTJCVixTQUFTVyxRQUFwQzs7QUFFQVQsSUFBSVUsTUFBSixDQUFXLElBQVg7QUFDQUMsUUFBUUMsR0FBUixDQUFZLDZCQUFaIiwiZmlsZSI6InNlcnZlci5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG52YXIgYm9keVBhcnNlciA9IHJlcXVpcmUoJ2JvZHktcGFyc2VyJyk7XG52YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xudmFyIGhhbmRsZXJzID0gcmVxdWlyZSgnLi9oYW5kbGVycy5qcycpO1xuXG5tb25nb29zZS5jb25uZWN0KCdtb25nb2RiOi8vbG9jYWxob3N0L25vdGVsaXN0Jyk7XG5cbnZhciBhcHAgPSBleHByZXNzKCk7XG5cbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoe2V4dGVuZGVkOiB0cnVlfSkpO1xuXG5hcHAudXNlKCcvJywgZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJy4uL2NsaWVudCcpKSk7XG5hcHAudXNlKCcvbGliJywgZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJy4uLy4uL25vZGVfbW9kdWxlcycpKSk7XG5cbi8vIGFwcC5wb3N0KCcvbW92aWVzL3NlYXJjaCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBib2R5KSB7XG4vLyAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcbi8vIH0pXG5cbmFwcC5wb3N0KCcvbW92aWVzL3NlYXJjaCcsIGhhbmRsZXJzLmFkZE1vdmllKTtcblxuYXBwLmxpc3Rlbig4MDAwKTtcbmNvbnNvbGUubG9nKCdMaXN0ZW5pbmcgb24gMTI3LjAuMC4xOjgwMDAnKTsiXX0=